// Generated by CoffeeScript 1.8.0
(function() {
  $('window').ready(function() {
    var request, seriesActors, seriesArtwork, seriesBanners, seriesData, seriesId, seriesName;
    request = function(reqUrl, callback) {
      $.ajax({
        url: reqUrl,
        error: function(jqXHR, textStatus, errorThrown) {
          console.log('error');
          callback({
            "errorStatus": "TRUE"
          });
        },
        success: function(data, textStatus, jqXHR) {
          callback(data);
        }
      });
    };
    seriesName = "";
    seriesId = "";
    seriesBanners = [];
    seriesActors = [];
    seriesData = {};
    seriesArtwork = "";
    if (Modernizr.localstorage) {
      seriesName = localStorage.getItem("series-name");
      seriesId = localStorage.getItem("series-id");
      seriesBanners = JSON.parse(localStorage.getItem("series-banners"));
    } else if (Modernizr.sessionstorage) {
      seriesName = sessionStorage.getItem("series-name");
      seriesId = sessionStorage.getItem("series-id");
      seriesBanners = JSON.parse(sessionStorage.getItem("series-banners"));
    } else {
      if (window.location.href.split('?')[1]) {
        seriesName = ((window.location.href.split('?')[1]).split("&")[0]).split('=')[1];
        seriesId = ((window.location.href.split('?')[1]).split("&")[1]).split('=')[1];
      }
    }
    $("#series-title").append(seriesName);
    if (!seriesBanners) {
      request("http://localhost:8888/series/seriesId/" + seriesId + "/banners", function(data) {
        console.log("making bannes reques");
        if (data) {
          seriesBanners = data;
        }
      });
    }
    request("http://localhost:8888/series/seriesId/" + seriesId, function(data) {});
  });

}).call(this);


//# sourceMappingURL=series.js.map
