// Generated by CoffeeScript 1.8.0
(function() {
  var dashboardApp;

  $('window').ready(function() {
    $('#options-bar .option').on('click', function(e) {
      var allOptionsBarOptionsContent, selectedOptionsBarOptionContent, selectedOptionsBarOptionContentLink;
      $("#options-bar .option").removeClass("active not-active");
      $(this).addClass("active");
      selectedOptionsBarOptionContentLink = $(this).data('link');
      console.log(selectedOptionsBarOptionContentLink);
      allOptionsBarOptionsContent = $('#options-bar-content .options-bar-option-content');
      allOptionsBarOptionsContent.removeClass("active not-active");
      selectedOptionsBarOptionContent = $("#options-bar-content .options-bar-option-content[data-link='" + selectedOptionsBarOptionContentLink + "']");
      selectedOptionsBarOptionContent.addClass("active");
      allOptionsBarOptionsContent.not(selectedOptionsBarOptionContent).addClass('not-active');
      console.log(selectedOptionsBarOptionContent);
    });
  });

  dashboardApp = angular.module('dashboard-app', []);

  dashboardApp.controller('controller', [
    '$http', '$scope', function($http, $scope) {
      console.log("setting controller");
      $scope.appData = {};
      $scope.appData.subscribedTvShows = [];
      $scope.appData.requestingSubscribedTvShows = true;
      $scope.appData.downloadedSubscribedTvShows = false;
    }
  ]);

  dashboardApp.directive('subscriptionsDirective', [
    '$timeout', '$http', function($timeout, $http) {
      return {
        link: function(scope, elemement, attrs) {
          console.log("subscriptioons option created");
          $(elemement).on('click', function(e) {
            $http.get('/subscriptions').success(function(result) {
              console.log("dashboard result ", result);
              scope.appData.requestingSubscribedTvShows = false;
              return scope.appData.subscribedTvShows = result.data;
            });
          });
        }
      };
    }
  ]);


  /*
  $timeout ->
  					scope.$apply ->
  			    		scope.subscribedTvShows = subscribedTvShows
  			    	return
  			    return
   */

}).call(this);


//# sourceMappingURL=dashboard.js.map
