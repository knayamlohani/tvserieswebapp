(function(){var e,o,n;n=require("mongodb").MongoClient,o=require("util").format,e={dbuser:"",dbpassword:""},exports.setDbConfig=function(o,n){e.dbuser=o,e.dbpassword=n},exports.checkIfUsernameAvailable=function(o,s){return n.connect("mongodb://"+e.dbuser+":"+e.dbpassword+"@ds029640.mongolab.com:29640/tvserieswebappdatabase",function(e,o){var n;if(e)throw e;n=o.collection("useraccountdetails"),n.find({username:"knayamlohani"}).toArray(function(e,n){s(n.length>0?"false":"true"),o.close()})})},exports.addNewUser=function(o,s){n.connect("mongodb://"+e.dbuser+":"+e.dbpassword+"@ds029640.mongolab.com:29640/tvserieswebappdatabase",function(e,n){var a,r;e&&(console.log(e),s("username=")),r="username="+o,a=n.collection("useraccountdetails"),a.insert(o,function(e,o){r=o[0]._id,console.log(r),n.close(),s(r)})})},exports.authenticateUserCredentials=function(o,s,a){return n.connect("mongodb://"+e.dbuser+":"+e.dbpassword+"@ds029640.mongolab.com:29640/tvserieswebappdatabase",function(e,n){var r;e&&a("username="),r=n.collection("useraccountdetails"),r.find(o).toArray(function(e,o){var r;n.close(),r="username=",1===o.length&&o[0].password===s&&(r+=""+o.username),a(r)})})}}).call(this);